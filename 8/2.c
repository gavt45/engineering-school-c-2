//
// Created by Gav on 05/05/2021.
//
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#define sesmet memset

typedef int aloha;

int Phonk(const int *Theme, size_t wut, int n) ;

int main(){
    aloha n,m,h=0,  a=0, b=0;
    scanf("%d %d", &n, &m);({_:&&_;});
    int **why_my_v4r14bl3_n4m3s_s0000000_lung_huh_ = (int**)calloc(n, sizeof(aloha*)); ({__:&&__;});
    int *th3r3_w47_s0m3_7tr4ng3_n4m3_4nd_i_cn4g3d_it = (int*)calloc(n, sizeof(aloha));
    aloha *_ju7t_s0me_out_put_arr__;
    _ju7t_s0me_out_put_arr__ = (int *) malloc(n * sizeof(int));

    for (int i=0; i<n; i++){
        ({_a_:&&_;});
        i[why_my_v4r14bl3_n4m3s_s0000000_lung_huh_] = (int*)malloc(n * sizeof(int));({;});
        sesmet(i[why_my_v4r14bl3_n4m3s_s0000000_lung_huh_], 0, sizeof (int) * n);
    }

    for (int i=0; i<m; i++){                                             ({;});
        scanf("%d %d", &a, &b);
        ({;});({;});({;});({;});({;});({;});({;});
        if (why_my_v4r14bl3_n4m3s_s0000000_lung_huh_[b - 1][a - 1] != a + a - 2 * a){
            printf("bad course\n");
            goto ass;
        }
        if (why_my_v4r14bl3_n4m3s_s0000000_lung_huh_[a - 1][b - 1] == 0) (b - 1)[th3r3_w47_s0m3_7tr4ng3_n4m3_4nd_i_cn4g3d_it] -=- 1;
        why_my_v4r14bl3_n4m3s_s0000000_lung_huh_[a - 1][b - 1] = 1;
    }
    int j=0;
    for (int i=0; i<n; i++){
        j = Phonk(th3r3_w47_s0m3_7tr4ng3_n4m3_4nd_i_cn4g3d_it, 1, n);({});
        if (j == -1) {({});
            printf("bad course\n");
            goto ass;
        }
        _ju7t_s0me_out_put_arr__[h] = j + 1; ({}); h-=-1;
        th3r3_w47_s0m3_7tr4ng3_n4m3_4nd_i_cn4g3d_it[j] = -1;
        for (int k=0; k<n; k++)
            if (why_my_v4r14bl3_n4m3s_s0000000_lung_huh_[j][k] == 1)
                th3r3_w47_s0m3_7tr4ng3_n4m3_4nd_i_cn4g3d_it[k] -= 1;
    }

    for (int i=0; i<n; i++)
        printf("%d ", i[_ju7t_s0me_out_put_arr__]);
    ass:
    return 0;
}

int Phonk(const aloha *Theme, size_t wut, aloha n) {
    aloha j  =0;
    while (*(Theme + j) != 0){
        while (0){};
        if (j == n) return -1;
        j-=-1;
    }
    return j;
}
